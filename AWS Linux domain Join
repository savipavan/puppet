Linux Domain Join
--------------------
https://www.rootusers.com/how-to-join-centos-linux-to-an-active-directory-domain/
--------------------
#Step 1 - Log in the instance
ssh -i "chef.pem" ec2-user@xxxx

#Step 2 - Make any updates, install SSSD
sudo yum -y update
sudo yum -y install sssd realmd krb5-workstation

# cat /etc/resolv.conf                                     ; generated by /sbin/dhclient-script
search devops.in
options timeout:2 attempts:5
nameserver 10.0.0.7

#Step 3 - Join the instance to the directory
sudo realm join -U administrator@devops.in devops.in --verbose

#Step 4 - Edit the config file
sudo vi /etc/ssh/sshd_config
PasswordAuthentication yes

#Start SSSD
sudo service sssd start

#Step 5 - Restart the instance from AWS console and log back in

#Step 6 - Add the domain administrators group from the devops.in domain
sudo visudo -f /etc/sudoers
#Domain\ admins@devops.in ALL=(ALL:ALL) ALL

#Step 7 - approve a login
sudo realm permit administrator@devops.in
sudo realm permit pavan@devops.in

#Step 8 - Login using a linux user
ssh pavan@devops.in@xxxxx
